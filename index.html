<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Marvel|Source+Sans+Pro:600&display=swap" rel="stylesheet">
    <link href="assets/style/style.css" type="text/css" rel="stylesheet">
</head>
<body>
    <div class="container.fluid text-center bg-light p-3">
        <h1 class="mb-5">Password Generator</h1>

        <div class="password container bg-white p-3 border rounded">
            <h2 class="text-left">Generate a Password</h2>
            <hr>
            <textarea class="generator container rounded pb-5 pt-2 text-center" placeholder="Your Secure Password"></textarea>
            <hr>
            <div class="row">
                <div class="col-sm-6 mb-2">
                    <button type="button" id="pill1" class="btn btn-danger btn-lg">Generate Password</button>
                </div>
                <div class="col-sm-6 mb-2"> 
                    <button type="button" id="pill2" class="btn btn-secondary btn-lg">Copy to Clipboard</button>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">


//Global Variables
        const passwordArray = [];
        const alphabet = 'abcdefghijklmnopqrstuvwxyz';
        const special = " !#$%&'()*+,-./:;<=>?@[\]^_`{|}~";

        let numSpecial = 0;
        let numSpecialInt= 0;
        const typeSpecial = "special"; 

        const typeNumerical= "numerical";
        let numNumerical= 0;
        let numNumericalInt= 0;

        const typeLower = "lowercase";
        let numLower= 0;
        let numLowerInt = 0;

        const typeUpper = "uppercase"; 
        let numUpper= 0;
        let numUpperInt = 0;

        

//Welcome and user instructions

        alert("Welcome to Password Generator! You will be asked to supply the number of characters you want from each category: special characters, numbers, lowercase letters, and uppercase letters.");
        alert("The sum of your selected characters must fall between 8 and 128");




//User selection function to get different amounts of each character type
        function getUserChar(typeName, numType, numTypeInt) {

            numType = prompt("Input the number of " + typeName + " characters you want in your password below:");
            numTypeInt= parseInt(numType); 
            console.log(numTypeInt); 

            
            while (numTypeInt > 128 || isNaN(numTypeInt)) {
                if (numTypeInt > 128) {
                    alert("You have over 128 characters. You need to input a smaller number");
                    numType= prompt("Input the number of " + typeName + " characters you want in your password below:");
                    numTypeInt= parseInt(numType); 
                    console.log(numTypeInt); 
                    // return numType; 
                    // return numTypeInt; 
                } else if(isNaN(numTypeInt)) {
                    alert("You must input a numerical value"); 
                    numType= prompt("Input the number of " + typeName + " characters you want in your password below:");
                    numTypeInt= parseInt(numType); 
                    console.log(numtypeInt);
                    // return numType; 
                    // return numTypeInt;  
                }
            }
            
        }

//function to get all character types
        function getPassSelect(){
            getUserChar(typeSpecial, numSpecial, numSpecialInt);
            getUserChar(typeNumerical, numNumerical, numNumericalInt);
            getUserChar(typeLower, numLower, numLowerInt);
            getUserChar(typeUpper, numUpper, numUpperInt);
        
            numSpecialInt = 3;
            numNumericalInt = 4; 
            numLowerInt= 7; 
            numUpperInt = 200; 

            let charCount = numSpecialInt + numNumericalInt + numLowerInt + numUpperInt; 

            alert("You have a password that is " + charCount + " characters long. With "+ numSpecialInt +" special characters, "+ numNumericalInt+ " numerical characters, "+numLowerInt+" lowercase letters, and "+numUpperInt+" uppercase letters."); 
        }

        getPassSelect(); 

    
 //user prompt to determine password length
        while (charCount < 8 || charCount > 128) {
            getPassSelect(); 
        }





    </script>
</body>
</html>
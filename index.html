<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Marvel|Source+Sans+Pro:600&display=swap" rel="stylesheet">
    <link href="assets/style/style.css" type="text/css" rel="stylesheet">
</head>
<body>
    <div class="container.fluid text-center bg-light p-3">
        <h1 class="mb-5">Password Generator</h1>

        <div class="password container bg-white p-3 border rounded">
            <h2 class="text-left">Generate a Password</h2>
            <hr>
            <textarea
                readonly
                id="password"
                placeholder="Your Secure Password"
                aria-label="Generated Password"
                class="w-75 generator rounded pb-5 pt-2 text-center"
            ></textarea>
            <hr>
            <div class="row">
                <div class="col-sm-6 mb-2">
                    <button type="button" id="gen" class="btn btn-danger btn-lg">Generate Password</button>
                </div>
                <div class="col-sm-6 mb-2"> 
                    <button type="button" id="copy" class="btn btn-secondary btn-lg">Copy to Clipboard</button>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">

        let passwordGenerated = '';
        const alphaLower ="abcdefghijklmnopqrstuvwxyz";
        const alphaUpper = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        const special = " !#$%&'()*+,-./:;<=>?@[\]^_`{|}~";
        const numerical = "012345689";
        let passwordOptions ='';  

        document.getElementById("gen").addEventListener("click", function(){
            genPassword(); 
            document.getElementById("password").innerHTML =("Your password is "+ passwordGenerated);
        });

        function genPassword() {
//user prompt to determine password lenght
            alert("Welcome to the Password Generator!")
            let numberChar = prompt("How many characters in your password? It must be between 8 and 128.");
            let numberCharInt = parseInt(numberChar); 

            while (numberCharInt < 8 || numberCharInt > 128 || isNaN(numberCharInt)) {
                alert("You must enter a number between 8 and 128");
                numberChar = prompt("How many characters in your password? It must be between 8 and 128.");
                numberCharInt = parseInt(numberChar);
                console.log(numberCharInt); 

            }


    //user prompt to select type
            let useSpecial = confirm("Would you like to have special characters in your password?"); 
            let useNumerical = confirm("Would you like to have numerical characters in your password?"); 
            let useLower = confirm("Would you like to have lowercase letters in your password?"); 
            let useUpper = confirm("Would you like to have uppercase letters in your password?"); 

    //generate list of characters to use in password based on user selection
            if (useSpecial) {
                passwordOptions = passwordOptions + special
                }; 
            if (useNumerical) {
                passwordOptions = passwordOptions + numerical
                }; 
            if (useLower) {
                passwordOptions = passwordOptions + alphaLower
                }; 
            if (useUpper) {
                passwordOptions = passwordOptions + alphaUpper
                }; 

            console.log(passwordOptions); 

    //function to generate random interger in range 0 to last index of a list lenght:


            function randomNum(len) {
                return Math.floor(Math.random()*(len)); 
            }

            let stringLength= passwordOptions.length;

    //generate password of given lenght form list of possible characters
            for (i=0; i < numberChar; i++) {
                passwordGenerated= passwordGenerated + passwordOptions[randomNum(stringLength)];
            }

            console.log("Generated password is " + passwordGenerated); 

        }

    </script>
</body>
</html>